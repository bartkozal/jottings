<div class="grid">
  <div class="grid-item 3/4">
    <%= form_for [:editor, @document], method: :put, html: { class: 'form-stacked' } do |form| %>
      <%= form.text_area :body, class: "1/1 margin-bottom",
                                is: "editor",
                                "document": @document.to_param %>
      <%= form.submit "Save" %>
    <% end %>

    <div is="editor-autosave-box">
      Document saved...
    </div>
  </div>

  <% if @document.has_collaborators? %>
    <div class="grid-item 1/4">
      <ul class="list-reset margin-bottom">
        <% @document.collaborators.each do |collaborator| %>
          <li class="margin-1/2-bottom"><%= gravatar_tag collaborator.email, size: 40 %></li>
        <% end %>
      </ul>
      <% if @changeset.present? %>
        <ul class="editor-changeset">
          <% @changeset.each do |diff| %>
            <li>Edited by <%= diff.author %></li>
          <% end %>
        </ul>
      <% end %>
    </div>
  <% end %>
</div>
