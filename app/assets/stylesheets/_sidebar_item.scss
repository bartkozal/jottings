$el-dropdown-toggle-active: '> .grid:hover > .grid-item > .dropdown > .dropdown-toggle';

%sidebar-item {
  .dropdown-toggle {
    visibility: hidden;
  }

  #{$el-dropdown-toggle-active} {
    visibility: visible;
  }
}

.sidebar-item-stack {
  @extend %sidebar-item;

  > .grid > .grid-item > .media {
    cursor: pointer;
  }
}

.sidebar-item-stack-trigger-icon {
  display: inline-block;
  transition: transform $base-transition-duration;

  &.is-active {
    transform: rotate(90deg);
  }
}

.sidebar-item-document {
  @extend %sidebar-item;

  .sidebar-item-stack + & {
    margin-top: $spacing-unit / 4;
  }

  & + & {
    margin-top: $spacing-unit / 2;
  }

  &.is-dragging {
    opacity: .8;
    z-index: $z-index-dragged;

    .dropdown,
    #{$el-dropdown-toggle-active} {
      visibility: hidden;
    }
  }
}
